# 02. 이상한 나라의 객체

## 객체

- 인간의 인지 능력 안에서 개수를 셀 수 있고, 다른 사물과 구분할 수 있으며, 생성 시점을 알 수 있고, 독립적인 하나의 단위로 인식할 수 있는 모든 사물
- 상태 (state), 행동 (behavior), 식별자 (identity)를 지닌 실체
- 숫자, 문자열, 양, 속도, 시간 등과 같은 단순한 값들은 객체가 아니다. 그 자체로 독립적인 의미를 갖기보다는, 다른 객체의 특성을 표현한다.

## 상태

- 어떤 행동의 결과는 과거에 일어한 행동들에 의존한다.
- 그러나 과거에 발생한 행동의 이력을 통해 현재 행동의 결과를 판단하는 것은 어려움 ⇒ 상태라는 개념의 등장
- 상태를 이용하면 과거에 얽매이지 않고 현재를 기반으로 객체의 행동 방식을 이해할 수 있다.

### 프로퍼티

- 객체의 상태를 구성하는 모든 특징
- 프로퍼티: 정적  / 프로퍼티 값: 동적
- 프로퍼티는 단순한 값인 **속성**과 다른 객체를 가리키는 **링크**의 조합으로 표현할 수 있다.
- 다른 객체의 상태에 직접 접근할 수도, 변경할 수도 없고, 스스로 자신의 상태를 책임져야 한다.

## 행동

- 객체가 취하는 행동은 객체 자신의 상태를 변경시킨다. == **부수 효과**를 초래한다.
- 객체가 다른 객체와 협력하기 위해서는 요청을 보내야 하고, 
요청을 수신한 객체는 요청을 처리하기 위해 적절하게 행동한다.
- 현실 세계와 달리, 객체지향에서는 모든 객체는 자신의 상태를 스스로 관리 (음료수조차도!)

### 캡슐화

- 객체는 행동만 외부에 노출하고, 상태는 감춰둔다. 외부에서 객체에 접근하는 유일한 방법은 행동이다.
- 캡슐화는 객체의 자율성을 높이고, 협력을 단순하고 유연하게 만든다.

## 식별자

- 객체를 서로 구별할 수 있도록 하는 특정한 프로퍼티

### 동등성

- **상태**를 이용해 두 **값**이 같은지 판단할 수 있는 성질
- 값의 상태는 결코 변하지 않기 때문에 가능하다. (불변상태)

### 동일성

- **식별자**를 기반으로 **객체**가 같은지를 판단할 수 있는 성질
- 상태를 이용해 판단할 수 없는 이유? 시간이 흐름에 따라 객체의 상태가 변하기 때문 (가변상태)

## 행동이 상태를 결정한다

- 상태를 먼저 결정하고 행동을 나중에 결정하는 방법은 설계에 나쁜 영향을 끼친다.
    - 캡슐화가 저해된다.
    - 객체를 협력자가 아닌 고립된 섬으로 만든다.
    - 객체의 재사용성이 저하된다.
        - 재사용성은 다양한 협력에 참여할 수 있는 능력에서 나온다.
- 객체지향 설계는 어플리케이션에 필요한 협력을 생각하고, 협력에 참여하는 데 필요한 행동을 생각한 후, 행동을 수행할 객체를 선택하는 방식으로 수행됨
    - 객체는 다른 객체와 협력하기 위해 존재함 → 협력에 참여하는 유일한 방법은 행동 !
    - 행동은 결국 객체가 협력에 참여하면서 완수해야 하는 책임이므로, 어떤 책임이 필요한가를 결정하는 과정이 전체 설계를 주도해야 함 ⇒ **책임—주도 설계**

## 은유, 의인화

- 현실 속의 객체와 소프트웨어 객체의 가장 큰 차이점은 무엇일까?
    - 소프트웨어 객체는 `능동적`이다.
- 소프트웨어의 객체는 현실에서는 할 수 없는 어떤 일도 다 할 수 있다! ⇒ **의인화**
- 현실의 모습을 참조할 뿐, 궁극적인 목적은 새로운 세계를 창조하는 것이다.
- 모방이나 추상화의 수준이 아닌 다른 관점에서 유사성을 가진다 ⇒ **은유**
    - 프로그램 내의 객체는 현실 속의 객체에 대한 은유다.
- **차이**: 사람들이 생각하는 모습과 실제 소프트웨어의 표현 사이의 차이
    - 소프트웨어 객체의 이름을 지을 때 실제 객체의 이름을 활용하면 표현적 차이가 줄어 소프트웨어 구조 예측이 쉬워진다. → 이해하기 쉽고 유지보수가 용이해진다.
    - 그러므로 객체의 이름을 지을 때 **도메인 (현실 세계)에서 사용되는 이름을 부여하는 것**이 좋다.

---
<br/>

미션을 수행할 때 코드를 짜기에 앞서 먼저 설계를 하는데,
- 설계를 하는 과정도 어려웠고
- 막상 개발을 시작해보면 설계가 잘못됐나..? 다시 뒤엎는 경우도 종종 생긴다.

그런데 이 책에서, **행동이 상태를 결정한다** 고 말한 부분이 굉장히 내게는 굉장히 크게 다가왔다.

<br/>

또한 1장을 보며 객체들을 현실 세계의 이야기에 비유를 했는데, 
이는 객체지향을 이해하는 데에 도움이 되었지만 실제 개발할 때를 생각해보면 많이 다른 점이 느껴지기도 했다.

그런데 2장에서 의인화에 대한 이야기가 나옴으로써 그 부분에 대한 의문도 해결된 것 같다. 

<br/>

결국 내가 느낀 점은,

그동안 상태를 먼저 결정하던 경향이 있었던 것 같아서, 앞으로는 행동을 먼저 생각해서 객체를 설계하는 연습을 해야겠다.

또한, 객체를 현실 세계의 객체로만 생각하기 보다, `능동적`으로 일을 수행할 수 있다는 점을 염두에 두면 좋을 것 같다.