# 3장) 타입과 추상화

### 추상화

헤리백이 추상화를 해서 노선도를 단순화 시킴. 이로인해 사람들이 바라보는 모델과 비슷해져서 보기 좋아짐

현실세계의 구차한 정보들은 배제하고 필요한 정보들만 옮긴 것이다.

현상보다는 법칙에 집중하자.

추상화 2원칙

1. 구체적인 사물들 간 차이점은 버리고 공통점만 취하는 일반화를 해서 단순하게 생각해보기.
2. 그 공통점 중에서도 불필요한 세부 사항을 제거해서 정말 중요한 부분만을 남겨서 강조한다.

우리는 현실을 추상화(공통적인 그룹으로 묶어서)해서 객체를 설계해야 한다.-[=

⇒ 개념으로써 객체들을 분류하자. 개념에 집중해서 객체를 바라보면 추상화가 잘 된다.

개념으로 특정 객체가 어떤 그룹에 속할지 결정가능하다.

개념의 세 가지 관점: **심볼, 내연, 외연**

**심볼: 개념을 가리키는 간략한 이름이나 명칭**

**⇒** 트럼프

**내연: 개념의 완전한 정의를 나타내며 내연의 의미를 이용해 객체가 개념에 속하는지 여부를 확인할 수 있다.**

⇒ 개념에 속하기 위한 특징의 정의(납작하고 팔 다리가 네모 귀퉁이에 달려 있다)

**외연: 개념에 속하는 모든 객체의 집합**

⇒ 개념에 속하는 모든 객체의 집합(킹, 퀸, 병사 등)

어떤 객체를 마주했을 때 객체에게 적용할 개념을 결정하는 것은 결국 해당 객체를 개념이 적용된 객체 집합의 일원으로 맞아들인다는 것을 의미함.

객체에 어떤 개념을 적용한다는 것은 결국 객체들을 개념에 따라 분류하는 것을 의미함.

⇒ 분류란 개념을 적용시킬지 말지 결정하는 작업이다.

앨리스는 인물들의 차이점은 무시하고 공통점만을 취해서 트럼프라는 개념으로 단순화하는 추상화를 했다.

분류는 추상화를 위한 도구에 불과하다.

트럼프 사람들을 추상화 2원칙으로 생각해보기

1. 정원사, 병사, 신하, 왕자와 공주 등을 트럼프라는 공통적인 개념으로 묶어서 일반화를 적용시킨다.
2. 우리가 중요하다고 생각하는 특징은 몸이 납작하고 두 손과 두 발이 네모난 몸 모서리에 달려 있다는 것 뿐이다. 그 외의 사항들은 전적으로 무시하고 있다. 즉, 불필요한 세부사항은 제거하고 생각한다.

⇒ 이런 추상화 과정을 통해서 우리는 세상을 제어가능한 수준으로 단순화한다.

### 타입

타입은 개념이다.

타입은 공통점을 기반으로 객체들을 묶기 위한 틀임.

타입에 속하는 객체 ==  타입의 인스턴스

타입은 근복적으로는 개념과 동일하지만, 컴퓨터 내부의 0과1 세상에 들어오게 된다면 기계적인 의미로 윤색된다.

메모리 조각에 있는 값의 의미는, 그 값을 가져다 자신의 용도에 맞게 사용하는 외부의 해석가에 의해 결정된다. 여기서 외부의 해석가는 애플리케이션이라는 프로그램이다.

메모리에 타입이라는 개념이 없다면, 100001을 어떻게 해석할 것인가? 숫자인가, 문자인가, 주소인가?

이렇게 메모리 안의 데이터를 목적에 따라 분류하기 시작하면서 **타입 시스템**이 등장했다.

타입 시스템의 목적: 모든 데이터가 비트열로 보임으로써 생기는 혼란을 방지.

즉, 데이터가 잘못 사용되지 않게 제약사항을 부과하는 것이다.

데이터 타입은 메모리 안에 저장된 데이터의 종류를 분류하는데 사용하는 메모리 집합에 관한 메타데이터다.

데이터에 대한 분류는 암시적으로 **어떤 종류의 연산이 해당 데이터에 대해 수행될 수 있는지**를 결정한다.

타입에 대한 데이터를 메모리에서 어떻게 표현하는지는 외부로부터 철저하게 감춰진다.

객체지향 프로그래밍에서 객체를 분류하는 개념인 **객체의 타입 또한 하나의 데이터 타입을 의미한다.**

그렇다고해서 객체에게 상태가 중요하다는 것은 아님. 상태는 단순히 행동의 순서를 기억하지 않아도 된다는 것을 위해 설계되는 것이다. 객체지향은 행동이 우선이다.

때문에, 객체가 다른 객체와 동일한 데이터를 가지고 있더라도 다른 행동을 한다면 그 객체들은 서로 다른 타입으로 분류돼야 한다.  ⇒ 객체의 타입은 객체의 행동이 결정한다.

동일한 책임의 행동을 지기만 한다면 내부의 데이터 상태는 달라도 된다. 내부 표현 방식이 다르다면 동일한 메시지를 처리하는 방식이 다를 것이다. 이게 바로 다형성이다.

동일한 메시지를 수신해서 서로 다른 방식으로 처리해서 응답하는 능력을 말한다.

⇒ 데이터-주도-설계말고 책임-주도-설계를 해라.

## 일반화 / 특수화

타입과 타입 사이에는 일반화/특수화 관계가 존재할 수 있다.

트럼프는 일반적이고 트럼프인간은 특수하다. 부분집합 관계가 성립함.

중요한 것: 객체가 특수하다는 것을 결정하는 것은 데이터가 아니라 행동(객체가 외부에 제공하는 행동)이다.

일반적인 것이 슈퍼타입이고, 특수한 것이 서브타입이 된다.

서브타입은 슈퍼타입의 모든 행동을 할 수 있어야 한다.

여기서 두 가지 추상화 기법이 적용됐다.

공통점을 취합해서 트럼프 인간으로 분류하고, 트럼프 인간을 단순한 관점에서 바라봐서 트럼프로 일반화했다.

## 정적모델

타입을 사용하는 이유는 인간이 멍청하기 때문에 실수를 줄이라고.

앨리스라는 타입(굳이 따지자면 클래스)을 정의해서 동적으로 변하는 객체의 복잡성(앨리스의 키의 변화)을 키라는 상태로 다룰 수 있게 해준다.

즉, 타입을 이용함으로써 객체의 동적인 특성을 추상화할 수 있다.

객체가 특정 시점에 구체적으로 어떤 상태를 가지느냐가 바로 객체의 스냅샷이다.

객체 지향 모델링에 사용되는 UML에서 스냅샷은 객체 다이어그램이다.

실제로 객체가 살아 움직이는 동안 상태가 어떻게 변하는지 포착하는 것을 **동적 모델**이라고 한다.

그리고 객체를 추상화한 타입 관점을 **정적 모델**이라고 한다.

⇒ 즉, 정적 모델은 코틀린에서 클래스이고 , 동적 모델은 객체를 의미한다.

정리) 타입을 나누는 기준은 행동이고, 타입을 정하면 그 타입을 구현하는 방법 중 하나가 클래스다.


    
